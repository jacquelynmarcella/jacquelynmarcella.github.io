/*! portfolio 2025-12-08 */
document.addEventListener("DOMContentLoaded",function(){if(!window.matchMedia("(prefers-reduced-motion: reduce)").matches){let i=document.querySelector(".header--hero"),o=document.querySelector(".header--hero code"),s=document.getElementById("sticky-header"),n=document.querySelector("main");window.addEventListener("scroll",()=>{var e=s.offsetHeight,t=o.getBoundingClientRect().top,r=n.getBoundingClientRect().top;0<t&&t<=r?i.classList.add("js-typing"):i.classList.remove("js-typing"),1<window.scrollY?(i.classList.add("js-sticky"),t=window.scrollY/(2*e),t=Math.min(1,Math.max(0,t)),i.style.setProperty("--stickyHeaderPosition",100*t+"%"),r=1-.75*t,i.style.setProperty("--stickyHeaderOpacity",r)):(i.classList.remove("js-sticky"),i.style.removeProperty("--stickyHeaderPosition"),i.style.removeProperty("--stickyHeaderOpacity"))}),gsap.utils.toArray(".skills--container .tags").forEach(e=>{e=gsap.utils.toArray(e.querySelectorAll("li"));ScrollTrigger.batch(e,{once:!0,onEnter:e=>{gsap.from(e,{y:"10px",duration:.4,stagger:.2})}})}),ScrollTrigger.refresh();let r=document.querySelector(".timeline--progress"),e=document.querySelectorAll(".timeline--item:not(.timeline--current-role) .timeline--text-container"),c=document.querySelector(".timeline--progress-bar"),l=document.querySelector(".polaroid--2");function t(){var e,t;r&&c&&(t=r.getBoundingClientRect(),t=(.75*window.innerHeight-t.top)/t.height*100,t=Math.max(0,Math.min(100,t)),l&&(e=(t-25)/75,e=Math.max(0,Math.min(1,e)),l.style.setProperty("--polaroidOpacity",e)),t=t<10?10:t,c.style.setProperty("--timelineProgressHeight",t+"%"))}function a(){let t=.75*window.innerHeight;e.forEach(e=>{e.getBoundingClientRect().top<t?e.classList.add("js-active"):e.classList.remove("js-active")})}r&&c&&(window.addEventListener("scroll",t),window.addEventListener("resize",t),t()),0<e.length&&(window.addEventListener("scroll",a),window.addEventListener("resize",a),a())}var e=document.querySelector("#timeline--toggle");let r=document.querySelector("#timeline"),i=(e&&e.addEventListener("click",function(){r.classList.contains("js-mobile-collapsed")?(r.classList.remove("js-mobile-collapsed"),r.classList.add("js-mobile-open")):(r.classList.add("js-mobile-collapsed"),r.classList.remove("js-mobile-open"))}),document.querySelector(".carousel.quote")),o=document.querySelectorAll('.carousel.quote [role="tabpanel"]'),s=document.querySelectorAll(".carousel--pagination-button");var e=document.getElementById("carousel-prev"),n=document.getElementById("carousel-next"),c={root:i,threshold:.5};let l=new IntersectionObserver(e=>{e.forEach(e=>{var r;e.isIntersecting&&(e=Array.from(o).indexOf(e.target),r=e,i.setAttribute("data-slide-visible",r+1),o.forEach((e,t)=>{t===r?(e.classList.add("js-active"),e.removeAttribute("tabindex"),e.removeAttribute("aria-hidden")):(e.classList.remove("js-active"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true"))}),s.forEach((e,t)=>{t===r?(e.classList.add("js-active"),d&&e.appendChild(d)):e.classList.remove("js-active")}))})},c),d=(o.forEach(e=>l.observe(e)),document.querySelector(".current-slide"));function u(e){e=o[e];i.scrollTo({left:e.offsetLeft,behavior:"smooth"})}e.addEventListener("click",function(){let e=Array.from(o).findIndex(e=>e.classList.contains("js-active")),t=(e=-1===e?0:e)-1;u(t=t<0?o.length-1:t)}),n.addEventListener("click",function(){let e=Array.from(o).findIndex(e=>e.classList.contains("js-active")),t=(e=-1===e?0:e)+1;u(t=t>=o.length?0:t)}),s.forEach((e,t)=>{e.addEventListener("click",function(){u(t)})})});