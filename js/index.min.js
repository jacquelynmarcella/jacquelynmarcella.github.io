/*! portfolio 2025-12-03 */
document.addEventListener("DOMContentLoaded",function(){let o=document.querySelector(".header--hero"),s=document.querySelector(".header--hero code"),r=document.getElementById("sticky-header"),n=document.querySelector("main");window.addEventListener("scroll",()=>{var e,t,i;r&&(e=r.offsetHeight,t=s.getBoundingClientRect().top,i=n.getBoundingClientRect().top,0<t&&t<=i?o.classList.add("js-typing"):o.classList.remove("js-typing"),1<window.scrollY?(o.classList.add("js-sticky"),t=window.scrollY/(2*e),t=Math.min(1,Math.max(0,t)),o.style.setProperty("--stickyHeaderPosition",100*t+"%"),i=1-.75*t,o.style.setProperty("--stickyHeaderOpacity",i)):(o.classList.remove("js-sticky"),o.style.removeProperty("--stickyHeaderPosition"),o.style.removeProperty("--stickyHeaderOpacity")))});document.querySelectorAll("#timeline li");var e=document.querySelector("#timeline--toggle");let t=document.querySelector("#timeline"),l=(e&&e.addEventListener("click",function(){t.classList.contains("js-mobile-collapsed")?(t.classList.remove("js-mobile-collapsed"),t.classList.add("js-mobile-open")):(t.classList.add("js-mobile-collapsed"),t.classList.remove("js-mobile-open"))}),document.querySelector(".carousel.quote")),c=document.querySelectorAll('.carousel.quote [role="tabpanel"]'),a=document.querySelectorAll(".carousel--pagination-button");var e=document.getElementById("carousel-prev"),i=document.getElementById("carousel-next"),d={root:l,threshold:.5};let u=new IntersectionObserver(e=>{e.forEach(e=>{var i;e.isIntersecting&&(e=Array.from(c).indexOf(e.target),i=e,l.setAttribute("data-slide-visible",i+1),c.forEach((e,t)=>{t===i?(e.classList.add("js-active"),e.removeAttribute("tabindex"),e.removeAttribute("aria-hidden")):(e.classList.remove("js-active"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true"))}),a.forEach((e,t)=>{t===i?(e.classList.add("js-active"),e.setAttribute("aria-selected","true")):(e.classList.remove("js-active"),e.setAttribute("aria-selected","false"))}))})},d);function m(e){e=c[e];l.scrollTo({left:e.offsetLeft,behavior:"smooth"})}c.forEach(e=>u.observe(e)),e.addEventListener("click",function(){let e=Array.from(c).findIndex(e=>e.classList.contains("js-active")),t=(e=-1===e?0:e)-1;m(t=t<0?c.length-1:t)}),i.addEventListener("click",function(){let e=Array.from(c).findIndex(e=>e.classList.contains("js-active")),t=(e=-1===e?0:e)+1;m(t=t>=c.length?0:t)}),a.forEach((e,t)=>{e.addEventListener("click",function(){m(t)})});let y=document.querySelector(".timeline--progress"),v=document.querySelector(".timeline--progress-bar");function h(){var e,t,i;y&&v&&(e=y.getBoundingClientRect(),e=(.75*window.innerHeight-e.top)/e.height*100,e=Math.max(0,Math.min(100,e)),(t=document.querySelector(".polaroid--2"))&&(i=(e-25)/75,i=Math.max(0,Math.min(1,i)),t.style.setProperty("--polaroidOpacity",i)),e=e<10?10:e,v.style.setProperty("--timelineProgressHeight",e+"%"))}y&&v&&(window.addEventListener("scroll",h),window.addEventListener("resize",h),h());let g=document.querySelectorAll(".timeline--item:not(.timeline--current-role) .timeline--text-container");function L(){let t=.75*window.innerHeight;g.forEach(e=>{e.getBoundingClientRect().top<t?e.classList.add("js-active"):e.classList.remove("js-active")})}0<g.length&&(window.addEventListener("scroll",L),window.addEventListener("resize",L),L())});