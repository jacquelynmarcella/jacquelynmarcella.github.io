/*! portfolio 2025-12-03 */
document.addEventListener("DOMContentLoaded",function(){if(!window.matchMedia("(prefers-reduced-motion: reduce)").matches){let r=document.querySelector(".header--hero"),o=document.querySelector(".header--hero code"),s=document.getElementById("sticky-header"),n=document.querySelector("main");window.addEventListener("scroll",()=>{var e,t,i;s&&(e=s.offsetHeight,t=o.getBoundingClientRect().top,i=n.getBoundingClientRect().top,0<t&&t<=i?r.classList.add("js-typing"):r.classList.remove("js-typing"),1<window.scrollY?(r.classList.add("js-sticky"),t=window.scrollY/(2*e),t=Math.min(1,Math.max(0,t)),r.style.setProperty("--stickyHeaderPosition",100*t+"%"),i=1-.75*t,r.style.setProperty("--stickyHeaderOpacity",i)):(r.classList.remove("js-sticky"),r.style.removeProperty("--stickyHeaderPosition"),r.style.removeProperty("--stickyHeaderOpacity")))}),gsap.utils.toArray("ul.tags").forEach(e=>{e=gsap.utils.toArray(e.querySelectorAll("li"));ScrollTrigger.batch(e,{onEnter:e=>{gsap.from(e,{y:"1em",duration:.33,stagger:.15})}})});let i=document.querySelector(".timeline--progress"),e=document.querySelectorAll(".timeline--item:not(.timeline--current-role) .timeline--text-container"),a=document.querySelector(".timeline--progress-bar"),c=document.querySelector(".polaroid--2");function t(){var e,t;i&&a&&(t=i.getBoundingClientRect(),t=(.75*window.innerHeight-t.top)/t.height*100,t=Math.max(0,Math.min(100,t)),c&&(e=(t-25)/75,e=Math.max(0,Math.min(1,e)),c.style.setProperty("--polaroidOpacity",e)),t=t<10?10:t,a.style.setProperty("--timelineProgressHeight",t+"%"))}function l(){let t=.75*window.innerHeight;e.forEach(e=>{e.getBoundingClientRect().top<t?e.classList.add("js-active"):e.classList.remove("js-active")})}i&&a&&(window.addEventListener("scroll",t),window.addEventListener("resize",t),t()),0<e.length&&(window.addEventListener("scroll",l),window.addEventListener("resize",l),l())}var e=document.querySelector("#timeline--toggle");let i=document.querySelector("#timeline"),r=(e&&e.addEventListener("click",function(){i.classList.contains("js-mobile-collapsed")?(i.classList.remove("js-mobile-collapsed"),i.classList.add("js-mobile-open")):(i.classList.add("js-mobile-collapsed"),i.classList.remove("js-mobile-open"))}),document.querySelector(".carousel.quote")),o=document.querySelectorAll('.carousel.quote [role="tabpanel"]'),s=document.querySelectorAll(".carousel--pagination-button");var e=document.getElementById("carousel-prev"),n=document.getElementById("carousel-next"),a={root:r,threshold:.5};let c=new IntersectionObserver(e=>{e.forEach(e=>{var i;e.isIntersecting&&(e=Array.from(o).indexOf(e.target),i=e,r.setAttribute("data-slide-visible",i+1),o.forEach((e,t)=>{t===i?(e.classList.add("js-active"),e.removeAttribute("tabindex"),e.removeAttribute("aria-hidden")):(e.classList.remove("js-active"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true"))}),s.forEach((e,t)=>{t===i?(e.classList.add("js-active"),e.setAttribute("aria-selected","true")):(e.classList.remove("js-active"),e.setAttribute("aria-selected","false"))}))})},a);function d(e){e=o[e];r.scrollTo({left:e.offsetLeft,behavior:"smooth"})}o.forEach(e=>c.observe(e)),e.addEventListener("click",function(){let e=Array.from(o).findIndex(e=>e.classList.contains("js-active")),t=(e=-1===e?0:e)-1;d(t=t<0?o.length-1:t)}),n.addEventListener("click",function(){let e=Array.from(o).findIndex(e=>e.classList.contains("js-active")),t=(e=-1===e?0:e)+1;d(t=t>=o.length?0:t)}),s.forEach((e,t)=>{e.addEventListener("click",function(){d(t)})})});