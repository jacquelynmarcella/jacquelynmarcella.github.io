/*! portfolio 2025-12-03 */
document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".theme-toggle");"dark"==document.documentElement.getAttribute("data-theme")&&t.classList.add("theme-toggle--toggled");let o=!1,s=(t&&(t.addEventListener("click",function(){var e;o=!0,e="dark"==document.documentElement.getAttribute("data-theme")?"light":"dark",document.documentElement.setAttribute("data-theme",e),localStorage.setItem("jm-color-mode",e),t&&("dark"==e?t.classList.add("theme-toggle--toggled"):t.classList.remove("theme-toggle--toggled"))}),t.addEventListener("mouseenter",()=>{o=!1,t.classList.toggle("theme-toggle--toggled")}),t.addEventListener("mouseleave",()=>{o||t.classList.toggle("theme-toggle--toggled")})),document.getElementById("navbar--toggle")),n=document.getElementById("navbar--dropdown");var e=document.querySelectorAll(".navbar a");function d(){var e=document.querySelector(".theme-toggle"),t=document.querySelector(".mobile.theme-toggle--container"),o=document.querySelector(".desktop.theme-toggle--container");e&&(window.innerWidth<=800?t&&!t.contains(e)&&t.appendChild(e):o&&!o.contains(e)&&o.appendChild(e))}s&&s.addEventListener("click",function(){window.innerWidth<=800&&(n.classList.contains("js-open")?(n.classList.remove("js-open"),n.classList.add("js-closed"),s.setAttribute("aria-expanded","false"),s.classList.remove("is-active"),document.body.classList.remove("js-nav-open")):(n.classList.remove("js-closed"),n.classList.add("js-open"),s.setAttribute("aria-expanded","true"),s.classList.add("is-active"),document.body.classList.add("js-nav-open")))}),e.forEach(e=>{e.addEventListener("click",function(){n&&(n.classList.remove("js-open"),n.classList.add("js-closed"),s.setAttribute("aria-expanded","false"),s.classList.remove("is-active"),document.body.classList.remove("js-nav-open")),s&&s.setAttribute("aria-expanded","false"),document.body.classList.remove("js-nav-open")})}),window.addEventListener("resize",function(){800<window.innerWidth&&(n&&(n.classList.remove("js-open"),n.classList.add("js-closed"),s.classList.remove("is-active")),s&&s.setAttribute("aria-expanded","false"),document.body.classList.remove("js-nav-open")),d()}),d();!window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(e=document.querySelectorAll(".projects-section .tile-grid, .article-body figure, .mobile.polaroid--border"))&&e.forEach(o=>{o.classList.add("js-animate"),window.addEventListener("scroll",()=>{var e=o.getBoundingClientRect(),t=window.innerHeight;e.top<.66*t&&o.classList.add("js-fade-in")})});var e=document.querySelectorAll(".projects-section .tile-grid li"),a=document.querySelectorAll(".tile-content a");function i(e){window.getSelection().toString()||e.currentTarget.querySelector("a").click()}e.forEach(e=>{e.addEventListener("click",i)}),a.forEach(e=>{e.addEventListener("click",e=>e.stopPropagation())})});