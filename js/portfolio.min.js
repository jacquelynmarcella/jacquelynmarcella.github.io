/*! portfolio 2025-12-06 */
document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".theme-toggle");"dark"==document.documentElement.getAttribute("data-theme")&&t.classList.add("theme-toggle--toggled");let s=!1,o=(t&&(t.addEventListener("click",function(){var e;s=!0,e="dark"==document.documentElement.getAttribute("data-theme")?"light":"dark",document.documentElement.setAttribute("data-theme",e),localStorage.setItem("jm-color-mode",e),t&&("dark"==e?t.classList.add("theme-toggle--toggled"):t.classList.remove("theme-toggle--toggled"))}),t.addEventListener("mouseenter",()=>{s=!1,t.classList.toggle("theme-toggle--toggled")}),t.addEventListener("mouseleave",()=>{s||t.classList.toggle("theme-toggle--toggled")})),document.getElementById("navbar--toggle")),n=document.getElementById("navbar--dropdown");var e,a=document.querySelectorAll(".navbar a");function d(){var e=document.querySelector(".theme-toggle"),t=document.querySelector(".mobile.theme-toggle--container"),s=document.querySelector(".desktop.theme-toggle--container");e&&(window.innerWidth<=800?t&&!t.contains(e)&&t.appendChild(e):s&&!s.contains(e)&&s.appendChild(e))}function i(e){window.getSelection().toString()||e.currentTarget.querySelector("a").click()}o&&o.addEventListener("click",function(){window.innerWidth<=800&&(n.classList.contains("js-open")?(n.classList.remove("js-open"),n.classList.add("js-closed"),o.setAttribute("aria-expanded","false"),o.classList.remove("is-active"),document.body.classList.remove("js-nav-open")):(n.classList.remove("js-closed"),n.classList.add("js-open"),o.setAttribute("aria-expanded","true"),o.classList.add("is-active"),document.body.classList.add("js-nav-open")))}),a.forEach(e=>{e.addEventListener("click",function(){n&&(n.classList.remove("js-open"),n.classList.add("js-closed"),o.setAttribute("aria-expanded","false"),o.classList.remove("is-active"),document.body.classList.remove("js-nav-open")),o&&o.setAttribute("aria-expanded","false"),document.body.classList.remove("js-nav-open")})}),window.addEventListener("resize",function(){800<window.innerWidth&&(n&&(n.classList.remove("js-open"),n.classList.add("js-closed"),o.classList.remove("is-active")),o&&o.setAttribute("aria-expanded","false"),document.body.classList.remove("js-nav-open")),d()}),d(),window.matchMedia("(prefers-reduced-motion: reduce)").matches||((a=document.querySelectorAll(".projects-section .tile-grid > li, .article-body figure, #carousel-slide-1 blockquote"))&&a.forEach(s=>{s.classList.add("js-animate"),window.addEventListener("scroll",()=>{var e=s.getBoundingClientRect(),t=window.innerHeight;e.top<.9*t&&s.classList.add("js-fade-in")})}),0<(a=gsap.utils.toArray(".stats--number")).length&&ScrollTrigger.batch(a,{onEnter:e=>{gsap.from(e,{scale:.75,duration:.5,transformOrigin:"left",stagger:.15})}}),a=document.querySelectorAll(".projects-section .tile-grid li"),e=document.querySelectorAll(".tile-content a"),a.forEach(e=>{e.addEventListener("click",i)}),e.forEach(e=>{e.addEventListener("click",e=>e.stopPropagation())}),ScrollTrigger.refresh())});